#### 1ã€MyBatisPlusä¸­[updateById](https://so.csdn.net/so/search?q=updateById&spm=1001.2101.3001.7020)()æ–¹æ³•å½“ä¼ å€¼ä¸ºç©ºæ—¶ä¸ä¼šå»ä¿®æ”¹æ•°æ®åº“å·²å­˜åœ¨çš„å€¼

> https://blog.csdn.net/qq_31295171/article/details/123691794

####  2ã€Lamdbaè¡¨è¾¾å¼

```java
        Map<String, List<Map<String, Object>>> districtMap = Arrays.stream(response.getHits().getHits())
                .map(SearchHit::getSourceAsMap)
                .collect(Collectors.groupingBy(map -> CountyUtils.findDistrict((String) map.get("county"))));

        // Map<String, List<Map<String, Object>>> districtMap = new HashMap<>();
        // for (SearchHit hit : response.getHits().getHits()) {
        //     Map<String, Object> map = hit.getSourceAsMap();
        //     String county = (String) map.get("county");
        //     String district = CountyUtils.findDistrict(county);
        //     if (districtMap.containsKey(district)) {
        //         List<Map<String, Object>> mapList = districtMap.get(district);
        //         mapList.add(map);
        //     }else {
        //         List<Map<String, Object>> list = new ArrayList<>();
        //         list.add(map);
        //         districtMap.put(district, list);
        //     }
        // }
```

```java
private static final Logger LOGGER = LoggerFactory.getLogger(LoggerFactoryDemo.class);
```

ä¼šåœ¨logæ—¥å¿—è¾“å‡ºæ—¶ï¼Œè¾“å‡ºæŒ‡å®šç±»

æ•ˆæœï¼š

```java
13:58:52.913 [main] INFO wwfww.warehouse.aaaaa.LoggerFactoryDemo - è¿™æ˜¯ä¸€æ¡æ•°æ®0
13:58:52.925 [main] INFO wwfww.warehouse.aaaaa.LoggerFactoryDemo - è¿™æ˜¯ä¸€æ¡æ•°æ®1
13:58:52.925 [main] INFO wwfww.warehouse.aaaaa.LoggerFactoryDemo - è¿™æ˜¯ä¸€æ¡æ•°æ®2
13:58:52.925 [main] INFO wwfww.warehouse.aaaaa.LoggerFactoryDemo - è¿™æ˜¯ä¸€æ¡æ•°æ®3
13:58:52.925 [main] INFO wwfww.warehouse.aaaaa.LoggerFactoryDemo - è¿™æ˜¯ä¸€æ¡æ•°æ®4
```

#### 3ã€æ±‚å­—ç¬¦ä¸²é•¿åº¦æ—¶å¦‚ä¸‹æ–¹æ³•å¯ä»¥è·å¾—å‡†ç¡®é•¿åº¦

```
String str = "ğ„";   // è¿™ä¸ªå­—ç¬¦çš„é•¿åº¦ä¸º2
int a = str.length();   // a çš„ å€¼ä¸º2
```

```
str.codePointCount(0,str.length())
```



#### 4ã€åœ¨æ—¥å¿—è¾“å‡ºæ—¶ï¼Œå­—ç¬¦ä¸²å˜é‡ä¹‹é—´çš„æ‹¼æ¥ä½¿ç”¨å ä½ç¬¦çš„æ–¹å¼å¯ä»¥æå‡æ€§èƒ½

è¯´æ˜ï¼šå› ä¸º String å­—ç¬¦ä¸²çš„æ‹¼æ¥ä¼šä½¿ç”¨ StringBuilder çš„ append()æ–¹å¼ï¼Œæœ‰ä¸€å®šçš„æ€§èƒ½æŸè€—ã€‚ä½¿ç”¨å ä½ç¬¦ä»…æ˜¯æ›¿æ¢åŠ¨ä½œï¼Œå¯ä»¥æœ‰æ•ˆæå‡æ€§èƒ½ã€‚

```java
logger.info("é”™è¯¯ä¿¡æ¯ï¼š" + e.getMessage());

logger.info("é”™è¯¯ä¿¡æ¯{}",e.getMessage());
```



#### 5ã€@ConditionalOnMissingBean

> @ConditionalOnMissingBeanï¼Œå®ƒæ˜¯ä¿®é¥°beançš„ä¸€ä¸ªæ³¨è§£ï¼Œä¸»è¦å®ç°çš„æ˜¯ï¼Œå½“ä½ çš„beanè¢«æ³¨å†Œä¹‹åï¼Œå¦‚æœè€Œæ³¨å†Œç›¸åŒç±»å‹çš„beanï¼Œå°±ä¸ä¼šæˆåŠŸï¼Œå®ƒä¼šä¿è¯ä½ çš„beanåªæœ‰ä¸€ä¸ªï¼Œå³ä½ çš„å®ä¾‹åªæœ‰ä¸€ä¸ªï¼Œå½“ä½ æ³¨å†Œå¤šä¸ªç›¸åŒçš„beanæ—¶ï¼Œä¼šå‡ºç°å¼‚å¸¸ï¼Œä»¥æ­¤æ¥å‘Šè¯‰äººå‘˜ã€‚





ä½¿ç”¨HttpClientï¼Œå¯ä»¥è¿æ¥åˆ°éœ€è¦ç”¨æˆ·åå’Œå¯†ç çš„ç½‘ç«™ã€‚æœ¬æ®µç»å¦‚ä½•é’ˆå¯¹è¦æ±‚è¾“å…¥ç”¨æˆ·åå’Œå¯†ç çš„ç«™ç‚¹æ‰§è¡Œå®¢æˆ·ç«¯è¯·æ±‚ã€‚

**ç¬¬1æ­¥** - åˆ›å»ºCredentialsProviderå¯¹è±¡
`CredentialsProvider`æ¥å£ç»´æŠ¤ä¸€ä¸ªé›†åˆä»¥ä¿å­˜ç”¨æˆ·ç™»å½•å‡­æ®ã€‚å¯ä»¥é€šè¿‡å®ä¾‹åŒ–`BasicCredentialsProvider`ç±»(æ­¤æ¥å£çš„é»˜è®¤å®ç°)æ¥åˆ›å»ºå…¶å¯¹è±¡ã€‚

```java
CredentialsProvider credentialsPovider = new BasicCredentialsProvider();
Java
```

**ç¬¬2æ­¥** - è®¾ç½®å‡­æ®

å¯ä»¥ä½¿ç”¨`setCredentials()`æ–¹æ³•å°†æ‰€éœ€å‡­æ®è®¾ç½®ä¸º`CredentialsProvider`å¯¹è±¡ã€‚

æ­¤æ–¹æ³•æ¥å—ä»¥ä¸‹ç»™å‡ºçš„ä¸¤ä¸ªå¯¹è±¡ - 

- **AuthScopeå¯¹è±¡** - éªŒè¯èŒƒå›´ï¼ŒæŒ‡å®šä¸»æœºåï¼Œç«¯å£å·å’ŒéªŒè¯æ–¹æ¡ˆåç§°ç­‰è¯¦ç»†ä¿¡æ¯ã€‚
- **Credentialså¯¹è±¡** - æŒ‡å®šå‡­æ®(ç”¨æˆ·åï¼Œå¯†ç )ã€‚

ä½¿ç”¨`setCredentials()`æ–¹æ³•ä¸ºä¸»æœºå’Œä»£ç†è®¾ç½®å‡­æ®ï¼Œå¦‚ä¸‹æ‰€ç¤º - 

```java
credsProvider.setCredentials(new AuthScope("example.com", 80), 
   new UsernamePasswordCredentials("user", "mypass"));
credsProvider.setCredentials(new AuthScope("localhost", 8000), 
   new UsernamePasswordCredentials("abc", "passwd"));
Java
```

**ç¬¬3æ­¥** - åˆ›å»ºHttpClientBuilderå¯¹è±¡

ä½¿ç”¨HttpClientsç±»çš„`custom()`æ–¹æ³•åˆ›å»º`HttpClientBuilder`ã€‚

```java
//Creating the HttpClientBuilder
HttpClientBuilder clientbuilder = HttpClients.custom();
Java
```

**ç¬¬4æ­¥** - è®¾ç½®credentialsPovider
å¯ä»¥ä½¿ç”¨`setDefaultCredentialsProvider()`æ–¹æ³•å°†ä¸Šé¢åˆ›å»ºçš„`credentialsPovider`å¯¹è±¡è®¾ç½®ä¸º`HttpClientBuilder`ã€‚

å°†ä¸Šä¸€æ­¥ä¸­åˆ›å»ºçš„`CredentialProvider`å¯¹è±¡è®¾ç½®ä¸ºå®¢æˆ·ç«¯æ„å»ºå™¨ï¼Œæ–¹æ³•æ˜¯å°†å…¶ä¼ é€’ç»™CredentialsProvider object()æ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

```java
clientbuilder = clientbuilder.setDefaultCredentialsProvider(credsProvider);
Java
```

**ç¬¬5æ­¥** - æ„å»ºCloseableHttpClient

ä½¿ç”¨`HttpClientBuilder`ç±»çš„`build()`æ–¹æ³•æ„å»º`CloseableHttpClient`å¯¹è±¡ã€‚

```java
CloseableHttpClient httpclient = clientbuilder.build();
Java
```

**ç¬¬6æ­¥** - åˆ›å»ºä¸€ä¸ªHttpGetå¯¹è±¡å¹¶æ‰§è¡Œå®ƒ
é€šè¿‡å®ä¾‹åŒ–`HttpGet`ç±»æ¥åˆ›å»ºHttpRequestå¯¹è±¡ã€‚ä½¿ç”¨`execute()`æ–¹æ³•æ‰§è¡Œæ­¤è¯·æ±‚ã€‚

```java
//Creating a HttpGet object
HttpGet httpget = new HttpGet("https://www.yiibai.com/ ");

//Executing the Get request
HttpResponse httpresponse = httpclient.execute(httpget);
```



lambdaè¡¨è¾¾å¼

- åœ¨å¤„ç†å¤§æ•°æ®é‡é›†åˆçš„æƒ…å†µä¸‹æ•ˆç‡æ›´é«˜ï¼ˆå¹¶è¡Œæµï¼‰

åªå…³æ³¨å‚æ•°åˆ—è¡¨å’Œæ–¹æ³•ä½“

å‡½æ•°å¼æ¥å£ï¼šåªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•

```
() -> {}
```

**çœç•¥è§„åˆ™**

- å‚æ•°ç±»å‹å¯ä»¥çœç•¥
- æ–¹æ³•ä½“åªæœ‰ä¸€å¥ä»£ç æ—¶å¤§æ‹¬å·returnå’Œå”¯ä¸€ä¸€å¥ä»£ç çš„åˆ†å·å¯ä»¥çœç•¥
- æ–¹æ³•åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶å°æ‹¬å·å¯ä»¥çœç•¥
- 

Streamæµ

> å¯ä»¥è¢«ç”¨æ¥å¯¹é›†åˆæˆ–è€…æ•°ç»„è¿›è¡Œé“¾çŠ¶æµå¼çš„æ“ä½œï¼Œæ›´æ–¹ä¾¿

```
list.stream()		// è½¬æ¢æˆæµ
	.distinct() 	// å»é‡
	.filter(...) 	// ç­›é€‰
	.forEach(...)
```

è¦æœ‰ç»ˆç»“æ“ä½œ .forEach(...)

**æ•°ç»„è½¬æ¢ä¸ºStreamæµ**

ä¸¤ç§æ–¹æ³•

```java
        // Stream<Integer> stream = Arrays.stream(arr);
        Stream<Integer> stream = Stream.of(arr);
        stream.distinct()
                .filter(integer -> integer > 2)
                .forEach(integer -> System.out.println(integer));
```

**MapåŒåˆ—é›†åˆ**

> mapä¸èƒ½ç›´æ¥è½¬æ¢ä¸ºStreamæµï¼Œéœ€è¦è½¬æ¢ä¸ºå•åˆ—é›†åˆï¼ŒentrySet

```java
        HashMap<String, Integer> map = new HashMap<>();
        map.put("å¼ ä¸‰1", 11);
        map.put("å¼ ä¸‰2", 12);
        map.put("å¼ ä¸‰3", 13);
        // åŒåˆ—é›†åˆä¸èƒ½ç›´æ¥è½¬åŒ–ä¸ºstramæµ
        Set<Map.Entry<String, Integer>> entrySet = map.entrySet();
        Stream<Map.Entry<String, Integer>> stream = entrySet.stream();

        stream.filter(entry -> entry.getValue() > 11)
                .forEach(entry -> System.out.println(entry.getKey() + "==" + entry.getValue()));
```

**å¹¶è¡Œ**

```java
        Stream<Integer> stream = Stream.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);
        Integer integer = stream
                .parallel()
                .peek(new Consumer<Integer>() {
                    @Override
                    public void accept(Integer integer) {
                        System.out.println(integer + Thread.currentThread().getName());
                    }
                })
                .filter(num -> num > 5)
                .reduce(Integer::sum)
                .get();
        System.out.println(integer);
```

#### 6ã€StringUtils.isBlankå’ŒStringUtils.isEmptyçš„åŒºåˆ«

isBlank

> åˆ¤æ–­nuLL=trUe
> åˆ¤æ–­""=trUe
> åˆ¤æ–­ç©ºæ ¼=trUe
> åˆ¤æ–­åˆ¶è¡¨ç¬¦=trUe
> åˆ¤æ–­æ¢è¡Œç¬¦=trUe
> åˆ¤æ–­å­—ç¬¦ä¸²=false

isEmpty

> åˆ¤æ–­nuLL=trUe
> åˆ¤æ–­""=trUe
> åˆ¤æ–­ç©ºæ ¼=false
> åˆ¤æ–­åˆ¶è¡¨ç¬¦=false
> åˆ¤æ–­æ¢è¡Œç¬¦=tUe
> åˆ¤æ–­å­—ç¬¦ä¸²=false

æ€»ç»“ï¼šisBlank åªè¯†åˆ«æ–‡æœ¬å†…å®¹ï¼Œç©ºæ ¼ä¹Ÿè®¤ä¸ºæ˜¯ç©º

#### 7ã€Math.random() >**= 0.5**

> è¿”å› [0,1) çš„æ•°å­— , Math.random() >= 0.5  è¡¨ç¤ºä¸€åŠçš„æ¦‚ç‡



#### 8ã€ctrlä¸­åªè®©ä¸€ä¸ªè¯·æ±‚æ‰§è¡Œ

```
å¼ ç› 1-30 09:52:47
public static Map<String, String> map = new ConcurrentHashMap<>();

å¼ ç› 1-30 09:53:23
 public String readFile() {
        if (!map.containsKey("dns")) {
            map.put("dns","start");
            new Thread(() -> {
                    os();
                    map.clear();
            }).start();
            return "æ¨é€æˆåŠŸ";
        }
        return "è¿˜æœªæ¶ˆè´¹å®Œæˆï¼è¯·å‹¿é‡å¤æ¨é€";
    }

å¼ ç› 1-30 09:53:34
public String endPush() {
        if (map.containsKey("dns")){
            if ("start".equals(map.get("dns"))) {
                map.put("dns", "stop");
                return "æ­£åœ¨åœæ­¢ä¸­ï¼ï¼ï¼ï¼";
            }
            map.put("dns", "start");
        }
        return "æ­£åœ¨å¯åŠ¨ä¸­ï¼ï¼ï¼ï¼";
    }
```

#### 9ã€ArrayIndexOutOfBoundsExceptionï¼šnull

å­—ç¬¦ä¸²å¤ªé•¿æ— æ³•è§£æfastjson

#### 10ã€åç«¯è¿”å›çš„å¯¹è±¡æœ‰åæ–œæ 

https://blog.csdn.net/w_linux/article/details/83477708

ä¸€èˆ¬æ˜¯æœ‰listï¼Œmapç›¸äº’åµŒå¥—ä½¿ç”¨ï¼Œå¹¶å°è£…åˆ°äº†ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œæœ€åè¿”å›è¿™ä¸ªå¯¹è±¡

è§£å†³åŠæ³•

å¼•å…¥ä»¥ä¸‹ä¾èµ–ã€å°†listç”¨ä¸€ä¸‹æ–¹æ³•ä¿®é¥°

```java
<dependency>
    <groupId>net.sf.json-lib</groupId>
    <artifactId>json-lib</artifactId>
    <version>2.4</version>
    <classifier>jdk15</classifier>
</dependency>
```

```java
JSONArray jarr = JSONArray.fromObject(list);
```

#### 11ã€Map.toString() è½¬æ¢ä¸ºMap

https://blog.csdn.net/nobody_1/article/details/96142266

#### 12ã€åæ–œæ é—®é¢˜

> 1ã€å¯¹è±¡éœ€è¦æ”¾åœ¨valueçš„ä½ç½®ï¼Œ å¦‚æœæ”¾åœ¨keyçš„ä½ç½®ä¼šè¢«è‡ªåŠ¨toStringæ ¼å¼
>
> 2ã€å¯¹è±¡ä¸èƒ½è¢«JSON.toJSONString æ“ä½œï¼Œå¦åˆ™ä¼šå‡ºç°åæ–œæ 
> å¦‚æœåœ¨keyçš„ä½ç½®JSONåŒ–ä¼šå‡ºç°toStringæ ¼å¼çš„åæ–œæ 
> å¦‚æœåœ¨valueçš„ä½ç½®JSONåŒ–ä¼šå‡ºç°jsonæ ¼å¼çš„åæ–œæ 

##### ä¸€ä¸ªUserå¯¹è±¡åœ¨Mapçš„keyçš„ä½ç½®ï¼Œä¸ºä»€ä¹ˆreturnçš„æ—¶å€™Userå¯¹è±¡å˜æˆäº†toStringæ ¼å¼

> åœ¨Javaä¸­ï¼ŒMapçš„é”®å¿…é¡»æ˜¯ä¸å¯å˜çš„å¯¹è±¡ï¼Œè¿™æ˜¯å› ä¸ºMapä½¿ç”¨é”®çš„å“ˆå¸Œå€¼æ¥ç¡®å®šå®ƒä»¬åœ¨Mapä¸­çš„ä½ç½®ï¼Œå¦‚æœé”®å‘ç”Ÿäº†å˜åŒ–ï¼ŒMapå°±æ— æ³•æ­£ç¡®åœ°å®šä½å€¼ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨å°è¯•å°†å¯å˜å¯¹è±¡ä½œä¸ºMapçš„é”®ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå¯¼è‡´æ„å¤–çš„ç»“æœã€‚
>
> åœ¨å°†å¯å˜å¯¹è±¡ä½œä¸ºMapçš„é”®æ—¶ï¼Œå¦‚æœæ²¡æœ‰å®ç°å¯¹è±¡çš„hashCode()å’Œequals()æ–¹æ³•ï¼ŒMapå°†ä½¿ç”¨é»˜è®¤çš„Objectç±»çš„æ–¹æ³•è¿›è¡Œæ¯”è¾ƒï¼Œè¿™å°†æ¯”è¾ƒå¯¹è±¡çš„å¼•ç”¨å€¼è€Œä¸æ˜¯å¯¹è±¡çš„å†…å®¹ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨å°è¯•ä½¿ç”¨ä¸€ä¸ªæ²¡æœ‰è¦†ç›–hashCode()å’Œequals()æ–¹æ³•çš„Userå¯¹è±¡ä½œä¸ºMapçš„é”®ï¼Œé‚£ä¹ˆMapå°†æ— æ³•æ­£ç¡®åœ°å®šä½è¯¥é”®ï¼Œå¹¶ä¸”å¯èƒ½ä¼šå‡ºç°æ„å¤–çš„ç»“æœã€‚
>
> å¦ä¸€æ–¹é¢ï¼Œå½“æ‚¨å°†ä¸€ä¸ªUserå¯¹è±¡ä½œä¸ºMapçš„é”®æ—¶ï¼ŒMapå°†åœ¨å†…éƒ¨å°†è¯¥å¯¹è±¡çš„hashCode()å€¼ä½œä¸ºé”®çš„å“ˆå¸Œå€¼ï¼Œç„¶åä½¿ç”¨è¯¥å“ˆå¸Œå€¼æ¥å®šä½è¯¥å¯¹è±¡çš„å€¼ã€‚å½“æ‚¨è°ƒç”¨Mapçš„get()æ–¹æ³•æ¥è·å–è¯¥é”®å¯¹åº”çš„å€¼æ—¶ï¼ŒMapä¼šä½¿ç”¨equals()æ–¹æ³•æ¥æ¯”è¾ƒè¯¥é”®ä¸Mapä¸­çš„é”®ï¼Œä»¥ç¡®å®šå®ƒä»¬æ˜¯å¦ç›¸ç­‰ã€‚å¦‚æœé”®ä¸ç›¸ç­‰ï¼Œé‚£ä¹ˆMapå°†è¿”å›nullã€‚
>
> å½“æ‚¨ä»Mapä¸­æ£€ç´¢ä¸€ä¸ªUserå¯¹è±¡æ—¶ï¼Œå¦‚æœè¯¥é”®ä¸å­˜åœ¨ï¼Œåˆ™Mapå°†è¿”å›nullã€‚å½“æ‚¨å°†è¿”å›å€¼æ‰“å°åˆ°æ§åˆ¶å°æ—¶ï¼ŒJavaå°†è°ƒç”¨Userå¯¹è±¡çš„toString()æ–¹æ³•æ¥å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶æ‰“å°åˆ°æ§åˆ¶å°ã€‚å¦‚æœæ‚¨æ²¡æœ‰è¦†ç›–Userç±»çš„toString()æ–¹æ³•ï¼Œé‚£ä¹ˆå°†ä¼šä½¿ç”¨é»˜è®¤çš„Objectç±»çš„toString()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°†æ‰“å°å¯¹è±¡çš„ç±»åå’Œå“ˆå¸Œç ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨ä»Mapä¸­æ£€ç´¢ä¸€ä¸ªUserå¯¹è±¡å¹¶å°†å…¶æ‰“å°åˆ°æ§åˆ¶å°ï¼Œæ‚¨å°†çœ‹åˆ°ä¸€ä¸ªç”±ç±»åå’Œå“ˆå¸Œç ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯Userå¯¹è±¡çš„å†…å®¹ã€‚

##### é‚£ä¸ºä»€ä¹ˆUserå¯¹è±¡åœ¨Mapçš„valueçš„ä½ç½®å°±ä¸ä¼šè¢«toStringå‘¢ï¼Ÿ

> å½“æ‚¨å°†ä¸€ä¸ªUserå¯¹è±¡ä½œä¸ºMapçš„å€¼æ—¶ï¼Œè¯¥å¯¹è±¡ä¼šä½œä¸ºMapä¸­çš„ä¸€ä¸ªæ™®é€šå€¼å­˜å‚¨ï¼Œè€Œä¸æ˜¯é”®ã€‚å½“æ‚¨ä»Mapä¸­æ£€ç´¢ä¸€ä¸ªå€¼æ—¶ï¼ŒMapå°†è¿”å›è¯¥å€¼çš„å¼•ç”¨ï¼Œè¿™æ˜¯ä¸€ä¸ªæŒ‡å‘Userå¯¹è±¡çš„å¼•ç”¨ã€‚å› æ­¤ï¼Œå½“æ‚¨å°†ä¸€ä¸ªUserå¯¹è±¡ä½œä¸ºMapçš„å€¼æ—¶ï¼Œå®ƒä¸ä¼šè¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚
>
> å½“æ‚¨å°†ä¸€ä¸ªUserå¯¹è±¡ä½œä¸ºMapçš„é”®æ—¶ï¼ŒMapéœ€è¦å°†è¯¥é”®çš„å“ˆå¸Œå€¼ä¸å…¶ä»–é”®è¿›è¡Œæ¯”è¾ƒï¼Œä»¥ç¡®å®šå®ƒä»¬æ˜¯å¦ç›¸ç­‰ã€‚ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼ŒMapä¼šè°ƒç”¨Userå¯¹è±¡çš„hashCode()å’Œequals()æ–¹æ³•ã€‚å¦‚æœæ‚¨æ²¡æœ‰æ­£ç¡®åœ°å®ç°è¿™äº›æ–¹æ³•ï¼Œé‚£ä¹ˆMapå¯èƒ½æ— æ³•æ­£ç¡®åœ°æ¯”è¾ƒé”®ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ„å¤–çš„ç»“æœã€‚
>
> å¦ä¸€æ–¹é¢ï¼Œå½“æ‚¨å°†ä¸€ä¸ªUserå¯¹è±¡ä½œä¸ºMapçš„å€¼æ—¶ï¼ŒMapåªéœ€è¦å°†è¯¥å€¼å­˜å‚¨åœ¨Mapä¸­ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¯¹è¯¥å€¼çš„å¼•ç”¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒMapä¸éœ€è¦è°ƒç”¨hashCode()å’Œequals()æ–¹æ³•ï¼Œå› ä¸ºå®ƒä¸ä¼šä½¿ç”¨Userå¯¹è±¡æ¥ç¡®å®šå®ƒåœ¨Mapä¸­çš„ä½ç½®ã€‚å› æ­¤ï¼ŒUserå¯¹è±¡ä½œä¸ºMapçš„å€¼æ—¶ä¸ä¼šè¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚

##### å½“Userå¯¹è±¡æ”¾åœ¨Mapçš„keyä½ç½®æ—¶æ˜¯è¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸²äº†ä¹ˆï¼Ÿ

> å½“ä¸€ä¸ªUserå¯¹è±¡è¢«æ”¾åœ¨Mapçš„keyä½ç½®æ—¶ï¼Œå®ƒä¸ä¼šè¢«ç›´æ¥è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚ä½†æ˜¯ï¼Œå½“æ‚¨è°ƒç”¨Mapçš„toString()æ–¹æ³•æ—¶ï¼ŒMapä¼šå°†æ‰€æœ‰çš„é”®å’Œå€¼è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œå¹¶ä¸”é”®å’Œå€¼éƒ½ä¼šè°ƒç”¨å®ƒä»¬çš„toString()æ–¹æ³•æ¥è¿›è¡Œè½¬æ¢ã€‚
>
> å¦‚æœUserç±»æ²¡æœ‰è¦†ç›–toString()æ–¹æ³•ï¼Œé‚£ä¹ˆè°ƒç”¨Userå¯¹è±¡çš„toString()æ–¹æ³•å°†è¿”å›ä¸€ä¸ªé»˜è®¤çš„å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²ç”±ç±»åã€@ç¬¦å·å’ŒUserå¯¹è±¡çš„å“ˆå¸Œç ç»„æˆï¼Œä¾‹å¦‚ï¼š`User@1db9742`ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨å°†ä¸€ä¸ªUserå¯¹è±¡ä½œä¸ºMapçš„é”®å¹¶ä¸”è°ƒç”¨Mapçš„toString()æ–¹æ³•ï¼Œé‚£ä¹ˆUserå¯¹è±¡çš„é”®å°†è¢«è½¬æ¢ä¸ºè¿™æ ·çš„å­—ç¬¦ä¸²å½¢å¼ã€‚
>
> ç„¶è€Œï¼Œæ‚¨å¯ä»¥é€šè¿‡è¦†ç›–Userç±»çš„toString()æ–¹æ³•æ¥æ”¹å˜å®ƒçš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚è¿™æ ·ï¼Œå½“æ‚¨å°†ä¸€ä¸ªUserå¯¹è±¡ä½œä¸ºMapçš„é”®æ—¶ï¼Œè°ƒç”¨Mapçš„toString()æ–¹æ³•å°†è¿”å›ä¸€ä¸ªæ›´æœ‰æ„ä¹‰çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥å°†toString()æ–¹æ³•å®ç°ä¸ºè¿”å›Userå¯¹è±¡çš„IDæˆ–ç”¨æˆ·åç­‰å±æ€§ï¼Œè¿™æ ·å®ƒå°±å¯ä»¥æ›´å¥½åœ°è¡¨ç¤ºUserå¯¹è±¡äº†ã€‚

##### å½“Userå­˜åœ¨Mapçš„keyçš„ä½ç½®æ—¶ï¼Œå½“getçš„æ—¶å€™æ˜¯è¾“å‡ºçš„Userå¯¹è±¡çš„toStringæ–¹æ³•ä¹ˆ

> å½“æ‚¨ä»Mapä¸­è·å–ä¸€ä¸ªUserå¯¹è±¡æ—¶ï¼ŒMapä¼šæ ¹æ®è¯¥å¯¹è±¡çš„å“ˆå¸Œå€¼æ¥æŸ¥æ‰¾å¯¹åº”çš„é”®å€¼å¯¹ã€‚å¦‚æœMapä¸­å­˜åœ¨è¿™ä¸ªé”®å€¼å¯¹ï¼Œåˆ™Mapä¼šè¿”å›è¯¥é”®æ‰€å¯¹åº”çš„å€¼ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæŒ‡å‘Userå¯¹è±¡çš„å¼•ç”¨ã€‚è¿™ä¸ªå¼•ç”¨å¯ä»¥ç”¨äºç›´æ¥è®¿é—®Userå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼Œè€Œä¸æ˜¯è°ƒç”¨Userå¯¹è±¡çš„toString()æ–¹æ³•ã€‚
>
> å¦‚æœæ‚¨å°†è¿”å›çš„Userå¯¹è±¡æ‰“å°åˆ°æ§åˆ¶å°ï¼Œé‚£ä¹ˆJavaå°†è°ƒç”¨Userç±»çš„toString()æ–¹æ³•å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶æ‰“å°åˆ°æ§åˆ¶å°ã€‚å¦‚æœUserç±»æ²¡æœ‰è¦†ç›–toString()æ–¹æ³•ï¼Œåˆ™å°†ä½¿ç”¨é»˜è®¤çš„Objectç±»çš„toString()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°†æ‰“å°å¯¹è±¡çš„ç±»åå’Œå“ˆå¸Œç ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨ä»Mapä¸­æ£€ç´¢ä¸€ä¸ªUserå¯¹è±¡å¹¶å°†å…¶æ‰“å°åˆ°æ§åˆ¶å°ï¼Œæ‚¨å°†çœ‹åˆ°ä¸€ä¸ªç”±ç±»åå’Œå“ˆå¸Œç ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯Userå¯¹è±¡çš„å†…å®¹ã€‚
>
> ä½†æ˜¯ï¼Œå¦‚æœUserç±»è¦†ç›–äº†toString()æ–¹æ³•å¹¶è¿”å›ä¸€ä¸ªæœ‰æ„ä¹‰çš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå½“æ‚¨ä»Mapä¸­æ£€ç´¢ä¸€ä¸ªUserå¯¹è±¡å¹¶å°†å…¶æ‰“å°åˆ°æ§åˆ¶å°æ—¶ï¼Œæ‚¨å°†çœ‹åˆ°ä¸€ä¸ªæ›´æœ‰æ„ä¹‰çš„å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯é»˜è®¤çš„ç±»åå’Œå“ˆå¸Œç ã€‚
